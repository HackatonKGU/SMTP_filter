–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ (–¢–ó) –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
–ù–∞–∑–≤–∞–Ω–∏–µ: SMTP-—Ñ–∏–ª—å—Ç—Ä —Å –ò–ò –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —É–≥—Ä–æ–∑
–°—Ä–æ–∫: 3 –¥–Ω—è
–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: Windows (CMD + Ollama)
–¶–µ–ª—å: –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø—Ä–æ—Ç–æ—Ç–∏–ø SMTP-—Ñ–∏–ª—å—Ç—Ä–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –ø–∏—Å—å–º–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —É–≥—Ä–æ–∑ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ª–æ–∫–∞–ª—å–Ω—ã—Ö LLM-–º–æ–¥–µ–ª–µ–π —á–µ—Ä–µ–∑ Ollama.



[SMTP-–∫–ª–∏–µ–Ω—Ç] ‚Üí [Python SMTP-—Å–µ—Ä–≤–µ—Ä] ‚Üí [–ò–ò-–∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä] ‚Üí [–õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π —è—â–∏–∫ (MailHog)]
                     ‚Üë
              [–§—Ä–æ–Ω—Ç–µ–Ω–¥ (Flask) –¥–ª—è –∞–¥–º–∏–Ω–∞]

  –ö–æ–º–ø–æ–Ω–µ–Ω—Ç          | –û–ø–∏—Å–∞–Ω–∏–µ                                                                 | –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã                     |
 |--------------------|--------------------------------------------------------------------------|----------------------------------|
 | **SMTP-–ø—Ä–æ–∫—Å–∏**    | –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∏—Å—å–º–∞ –Ω–∞ –ø–æ—Ä—Ç—É `10025`, –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–µ–∫—Å—Ç –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç —É–≥—Ä–æ–∑—ã. | `aiosmtpd`, Python               |
 | **Ollama**         | –õ–æ–∫–∞–ª—å–Ω–∞—è LLM-–º–æ–¥–µ–ª—å –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —Ç–µ–∫—Å—Ç–∞.                           | `mistral:7b-q4_0`, CMD           |
 | **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**    | –•—Ä–∞–Ω–∏—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ (SQLite).                                  | `sqlite3`                        |
 | **–§—Ä–æ–Ω—Ç–µ–Ω–¥**       | –î–∞—à–±–æ—Ä–¥ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–∏—Å–µ–º (Flask).                     | Flask, HTML/CSS                  |
 | **–¢–µ—Å—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä**| –õ–æ–∫–∞–ª—å–Ω—ã–π –ø–æ—á—Ç–æ–≤—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è "—á–∏—Å—Ç—ã—Ö" –ø–∏—Å–µ–º (MailHog).                  | MailHog                          |



üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
1. –ë—ç–∫–µ–Ω–¥: SMTP-–ø—Ä–æ–∫—Å–∏ + Ollama
–¶–µ–ª—å: –ü—Ä–∏–Ω–∏–º–∞—Ç—å –ø–∏—Å—å–º–∞, –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏—Ö —Å –ø–æ–º–æ—â—å—é Ollama –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ.


2. –§—Ä–æ–Ω—Ç–µ–Ω–¥: –î–∞—à–±–æ—Ä–¥ –¥–ª—è –∞–¥–º–∏–Ω–∞
–¶–µ–ª—å: –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –≤ —É–¥–æ–±–Ω–æ–º –≤–∏–¥–µ.


3. –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –¥–ª—è Ollama
–¶–µ–ª—å: –ü–æ–¥–æ–±—Ä–∞—Ç—å –æ–ø—Ç–∏–º–∞–ª—å–Ω—É—é LLM-–º–æ–¥–µ–ª—å –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ —É–≥—Ä–æ–∑ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ.

 | –ú–æ–¥–µ–ª—å            | –†–∞–∑–º–µ—Ä  | –°–∫–æ—Ä–æ—Å—Ç—å (CPU) | –ö–∞—á–µ—Å—Ç–≤–æ (—Ä—É—Å.) | –ü–∞–º—è—Ç—å (–û–ó–£) | –ö–æ–º–∞–Ω–¥–∞ –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è       |
 |-------------------|---------|----------------|-----------------|--------------|-------------------------------|
 | `phi2`            | 2.7 GB  | ‚ö°‚ö°‚ö°‚ö°‚ö°       | ‚≠ê‚≠ê‚≠ê           | ~4 GB        | `ollama pull phi2`            |
 | `gemma:2b`        | 2.5 GB  | ‚ö°‚ö°‚ö°           | ‚≠ê‚≠ê‚≠ê‚≠ê         | ~5 GB        | `ollama pull gemma:2b`        |
 | `mistral:7b`      | 4.1 GB  | ‚ö°‚ö°             | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê       | ~8 GB        | `ollama pull mistral`          |
 | `mistral:7b-q4_0` | ~2.5 GB | ‚ö°‚ö°‚ö°           | ‚≠ê‚≠ê‚≠ê‚≠ê         | ~5 GB        | `ollama pull mistral:7b-q4_0`  |
 | `tinyllama`       | 1.1 GB  | ‚ö°‚ö°‚ö°‚ö°         | ‚≠ê‚≠ê             | ~3 GB        | `ollama pull tinyllama`        |

> **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `mistral:7b-q4_0` –¥–ª—è –±–∞–ª–∞–Ω—Å–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –≤–∞—à–µ–º –ü–ö (8 GB –û–ó–£).
---

–û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π –≤—ã–±–æ—Ä: gemma:2b (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞).
–î–ª—è —Å–ª–∞–±—ã—Ö –ü–ö: phi2 (–±—ã—Å—Ç—Ä–æ, –Ω–æ –º–µ–Ω–µ–µ —Ç–æ—á–Ω–æ).
–î–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Ç–æ—á–Ω–æ—Å—Ç–∏: mistral:7b (—Ç—Ä–µ–±—É–µ—Ç –º–Ω–æ–≥–æ –û–ó–£).

| –ü—Ä–æ–±–ª–µ–º–∞                     | –†–µ—à–µ–Ω–∏–µ                                                                                     |
 |------------------------------|---------------------------------------------------------------------------------------------|
 | –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –º–æ–¥–µ–ª–∏     | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é (`mistral:7b-q4_0`).                                    |
 | –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ –û–ó–£     | –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞ –¥–æ 512 —Ç–æ–∫–µ–Ω–æ–≤.                                                     |
 | –î–æ–ª–≥–∏–π –æ—Ç–≤–µ—Ç –æ—Ç –º–æ–¥–µ–ª–∏       | –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `timeout=30` –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö –∫ API.                                                   |
 | –õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è          | –î–æ–±–∞–≤–ª—è–π—Ç–µ –±–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ —É–≥—Ä–æ–∑ –≤ –ø—Ä–æ–º—Ç.                                                   |
 | –û—à–∏–±–∫–∏ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ (–∫–∏—Ä–∏–ª–ª–∏—Ü–∞) | –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `.encode('utf-8').decode('utf-8')` –¥–ª—è —Ç–µ–∫—Å—Ç–∞ –ø–∏—Å–µ–º.                           |



## üìÖ –ü–ª–∞–Ω —Ä–∞–±–æ—Ç—ã –Ω–∞ 3 –¥–Ω—è
 | –î–µ–Ω—å  | –ó–∞–¥–∞—á–∏                                                                                     |
 |-------|--------------------------------------------------------------------------------------------|
 | –î–µ–Ω—å 1 | 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Ollama –∏ —Å–∫–∞—á–∞—Ç—å –º–æ–¥–µ–ª—å (`mistral:7b-q4_0`).<br>2. –ù–∞–ø–∏—Å–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ (`classify_with_ollama`).<br>3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º—Ç –≤—Ä—É—á–Ω—É—é. |
 | –î–µ–Ω—å 2 | 1. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –≤ SMTP-—Å–µ—Ä–≤–µ—Ä.<br>2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ SQLite.<br>3. –†–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (Flask + HTML). |
 | –î–µ–Ω—å 3 | 1. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º —Å —É–≥—Ä–æ–∑–∞–º–∏ –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–º).<br>2. –î–æ—Ä–∞–±–æ—Ç–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.<br>3. –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. |

---

üîß –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è
–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ

–û–°: Windows 10/11.
–û–ó–£: –ú–∏–Ω–∏–º—É–º 4 GB (–¥–ª—è gemma:2b), 8 GB (–¥–ª—è mistral:7b).
Python: 3.8+ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è 3.9).
Ollama: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –∑–∞–ø—É—â–µ–Ω (ollama serve).
MailHog: –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è "—á–∏—Å—Ç—ã—Ö" –ø–∏—Å–µ–º.

–¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

–û—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å—å–º–∞ —Å —É–≥—Ä–æ–∑–æ–π (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–í–∑–æ—Ä–≤–∞—Ç—å –∑–¥–∞–Ω–∏–µ –≤ 18:00"):

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–∏—Å—å–º–æ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–æ, –¥–∞–Ω–Ω—ã–µ –≤ blocked_emails.db.


–û—Ç–ø—Ä–∞–≤–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ø–∏—Å—å–º–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?"):

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ø–∏—Å—å–º–æ –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ –≤ MailHog.


–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞:

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ.




üìå –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ —Å–¥–∞—á–µ–π

 Ollama –∑–∞–ø—É—â–µ–Ω (ollama serve) –∏ –º–æ–¥–µ–ª—å —Å–∫–∞—á–∞–Ω–∞.
 SMTP-—Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ø–∏—Å—å–º–∞ –Ω–∞ –ø–æ—Ä—Ç—É 10025.
 –§—É–Ω–∫—Ü–∏—è classify_with_ollama –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã.
 –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∏—Å—å–º–∞ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ blocked_emails.db.
 –§—Ä–æ–Ω—Ç–µ–Ω–¥ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –Ω–∞ http://localhost:5000.
 –û—Ñ–æ—Ä–º–ª–µ–Ω README.md —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–µ–π –ø–æ –∑–∞–ø—É—Å–∫—É.

üîß –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–ª—è –≤–∞—à–µ–≥–æ –ü–ö
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:

–û–ó–£: 8 GB (–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è mistral:7b, –Ω–æ –ø—Ä–∏–¥—ë—Ç—Å—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å).
CPU: 2 GHz (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ ‚Äî –º–æ–¥–µ–ª–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω–æ, –Ω–æ —Ç–µ—Ä–ø–∏–º–æ).

–í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏:
mistral:7b ‚Äî —Ö–æ—Ä–æ—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è –∫–∞—á–µ—Å—Ç–≤–∞, –Ω–æ –ø–æ—Ç—Ä–µ–±—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:

–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç (–º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞) –¥–æ 512‚Äì1024 —Ç–æ–∫–µ–Ω–æ–≤.
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–≤–∞–Ω—Ç–∏–∑–∞—Ü–∏—é (–µ—Å–ª–∏ Ollama –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç, –Ω–∞–ø—Ä–∏–º–µ—Ä, mistral:7b-q4_0).
–£–º–µ–Ω—å—à–∏—Ç–µ temperature –¥–æ 0.1 –¥–ª—è –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.
–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –≤—ã–≤–æ–¥ –º–æ–¥–µ–ª–∏ (max_tokens: 5), —á—Ç–æ–±—ã –Ω–µ —Ç—Ä–∞—Ç–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.


üìú –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø—Ä–æ–º—Ç –¥–ª—è mistral:7b
–¶–µ–ª—å: –ß—ë—Ç–∫–æ –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–∫—Å—Ç –Ω–∞ "—É–≥—Ä–æ–∑–∞" (1) –∏–ª–∏ "–±–µ–∑–æ–ø–∞—Å–Ω–æ" (0).
–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ —É–≥—Ä–æ–∑ (–¥–ª—è –ª—É—á—à–µ–≥–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞).
–ö—Ä–∞—Ç–∫–∏–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ (—Ç–æ–ª—å–∫–æ 0 –∏–ª–∏ 1).
–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞.

–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–º—Ç–∞:
–¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —É–≥—Ä–æ–∑.
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç –∏ –æ—Ç–≤–µ—Ç—å –°–¢–†–û–ì–û –æ–¥–Ω–∏–º —á–∏—Å–ª–æ–º:
- 1, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç —É–≥—Ä–æ–∑—É —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∞, –ø—Ä–∏–∑—ã–≤—ã –∫ –Ω–∞—Å–∏–ª–∏—é, —É–ø–æ–º–∏–Ω–∞–Ω–∏—è –≤–∑—Ä—ã–≤–æ–≤, —É–±–∏–π—Å—Ç–≤, –∑–∞—Ö–≤–∞—Ç–∞ –∑–∞–ª–æ–∂–Ω–∏–∫–æ–≤ –∏ —Ç.–ø.
- 0, –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç –±–µ–∑–æ–ø–∞—Å–µ–Ω.

–ü—Ä–∏–º–µ—Ä—ã —É–≥—Ä–æ–∑:
- "–í–∑–æ—Ä–≤–∞—Ç—å –∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ 18:00" ‚Üí 1
- "–£–±—å—é –≤—Å–µ—Ö –Ω–∞ –º–∏—Ç–∏–Ω–≥–µ" ‚Üí 1
- "–ó–∞—Ö–≤–∞—Ç–∏–º —à–∫–æ–ª—É –∏ —É—Å—Ç—Ä–æ–∏–º —Ä–µ–∑–Ω—é" ‚Üí 1

–ü—Ä–∏–º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤:
- "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?" ‚Üí 0
- "–û—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É –≤–æ –≤–ª–æ–∂–µ–Ω–∏–∏" ‚Üí 0
- "–í—Å—Ç—Ä–µ—á–∞ –≤ 15:00 –≤ –æ—Ñ–∏—Å–µ" ‚Üí 0

---
–¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
"{text}"

---
–û—Ç–≤–µ—Ç (—Ç–æ–ª—å–∫–æ 0 –∏–ª–∏ 1):


üìå –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –ø—Ä–æ–º—Ç–∞ –≤ –∫–æ–¥
–§—É–Ω–∫—Ü–∏—è –¥–ª—è –∑–∞–ø—Ä–æ—Å–∞ –∫ Ollama (—Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –ü–ö):
import requests

def classify_with_ollama(text):
    url = "http://localhost:11434/api/generate"
    prompt = f"""
    –¢—ã ‚Äî —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–Ω–∞–ª–∏–∑—É —Ç–µ–∫—Å—Ç–æ–≤ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ —Ç–µ—Ä—Ä–æ—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏—Ö —É–≥—Ä–æ–∑.
    –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–π —Å–ª–µ–¥—É—é—â–∏–π —Ç–µ–∫—Å—Ç –∏ –æ—Ç–≤–µ—Ç—å –°–¢–†–û–ì–û –æ–¥–Ω–∏–º —á–∏—Å–ª–æ–º (0 –∏–ª–∏ 1):

    –ü—Ä–∏–º–µ—Ä—ã —É–≥—Ä–æ–∑:
    - "–í–∑–æ—Ä–≤–∞—Ç—å –∑–¥–∞–Ω–∏–µ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–∞ –≤ 18:00" ‚Üí 1
    - "–£–±—å—é –≤—Å–µ—Ö –Ω–∞ –º–∏—Ç–∏–Ω–≥–µ" ‚Üí 1

    –ü—Ä–∏–º–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤:
    - "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?" ‚Üí 0
    - "–û—Ç—á—ë—Ç –ø–æ –ø—Ä–æ–µ–∫—Ç—É –≤–æ –≤–ª–æ–∂–µ–Ω–∏–∏" ‚Üí 0

    ---
    –¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞:
    "{text}"

    ---
    –û—Ç–≤–µ—Ç (—Ç–æ–ª—å–∫–æ 0 –∏–ª–∏ 1):
    """

    payload = {
        "model": "mistral:7b",
        "prompt": prompt,
        "stream": False,
        "temperature": 0.1,  # –î–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –æ—Ç–≤–µ—Ç
        "max_tokens": 5,     # –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ–º –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞
    }

    try:
        response = requests.post(url, json=payload, timeout=30)
        response.raise_for_status()
        answer = response.json()["response"].strip()
        return int(answer) if answer in ["0", "1"] else 0
    except Exception as e:
        print(f"–û—à–∏–±–∫–∞ Ollama: {e}")
        return 0  # –í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ —Å—á–∏—Ç–∞–µ–º –ø–∏—Å—å–º–æ –±–µ–∑–æ–ø–∞—Å–Ω—ã–º

üîß –ö–∞–∫ —Å–∫–∞—á–∞—Ç—å –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–µ—Ä—Å–∏—é mistral:7b

–°–∫–∞—á–∞–π—Ç–µ –∫–≤–∞–Ω—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é –º–æ–¥–µ–ª—å (–º–µ–Ω—å—à–µ –≤–µ—Å, –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):
 Copyollama pull mistral:7b-q4_0

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –µ—ë –≤ –∫–æ–¥–µ:
 Copypayload = {
    "model": "mistral:7b-q4_0",  # –í–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–π –≤–µ—Ä—Å–∏–∏
    ...
}
